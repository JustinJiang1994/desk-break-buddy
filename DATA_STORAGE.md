# 数据存储说明

## 数据存储位置

**所有数据都会同步到您的谷歌账户，可以在不同设备间自动同步。**

### 存储方式

插件使用 `chrome.storage.sync` API 存储数据，这意味着：

1. **云端同步**：数据存储在谷歌云端，绑定您的Chrome账户
2. **跨设备同步**：数据会自动同步到所有登录了同一谷歌账户的设备
3. **自动备份**：数据自动备份到云端，无需手动操作
4. **实时同步**：在一台设备上的修改会自动同步到其他设备

### 前提条件

⚠️ **重要**：要使用数据同步功能，您需要：
- 登录Chrome浏览器（使用谷歌账户）
- 启用Chrome同步功能（设置 → 您和Google → 同步）

### 存储的数据内容

- 提醒设置（起身提醒间隔、喝水提醒间隔）
- 声音设置（是否启用、音效类型）
- 自定义计时器列表
- 提醒历史记录（近30天，最多500条）
- 暂停状态
- 各计时器的开始时间

### 存储限制

`chrome.storage.sync` 有以下限制：
- **每个扩展最多 100KB** 总存储空间
- **每个项目最多 8KB**
- 如果超过限制，数据可能无法同步

**注意**：插件已自动限制提醒历史记录最多保存500条，避免超过存储限制。

### 数据同步

- ✅ **会**同步到其他设备（登录同一账户）
- ✅ **会**同步到其他浏览器（Chrome浏览器）
- ✅ **会**绑定谷歌账户
- ✅ **会**自动备份到云端
- ✅ **会**实时同步（通常在几秒内完成）

### 同步范围

数据会在以下情况同步：
- 不同电脑上的Chrome浏览器（登录同一账户）
- 不同操作系统（Windows、macOS、Linux）
- Chrome浏览器和Chrome OS设备

### 数据位置

在Chrome中，`chrome.storage.sync` 的数据：
- 存储在谷歌云端服务器
- 本地缓存位置：
  - **macOS**: `~/Library/Application Support/Google/Chrome/Default/Sync Extension Settings/[扩展ID]/`
  - **Windows**: `%LOCALAPPDATA%\Google\Chrome\User Data\Default\Sync Extension Settings\[扩展ID]\`
  - **Linux**: `~/.config/google-chrome/Default/Sync Extension Settings/[扩展ID]/`

### 数据备份

数据会自动备份到云端，无需手动操作。如果需要额外备份：
1. 导出设置（未来功能）
2. 使用Chrome的扩展程序数据导出功能

### 数据清除

- **卸载插件**：数据会从云端和本地清除
- **退出Chrome账户**：本地数据清除，但云端数据保留（重新登录后可恢复）
- **清除浏览器数据**：如果选择清除扩展程序数据，本地和云端数据都会被清除

### 隐私说明

- 数据存储在谷歌服务器上
- 数据与您的谷歌账户关联
- 遵循Chrome的隐私政策
- 不会与其他应用或服务共享数据

### 离线使用

- 如果未登录Chrome账户，数据会存储在本地（类似 `chrome.storage.local`）
- 登录后会自动同步到云端
- 如果网络断开，会使用本地缓存，网络恢复后自动同步
